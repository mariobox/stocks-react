{"version":3,"sources":["App.js","index.js"],"names":["Home","method","action","process","type","id","name","class","href","About","Stocks","PORTFOLIO","window","location","search","URLSearchParams","get","portfolioFromQueryParams","useEffect","fetchStocks","useState","stocks","setStocks","a","async","fetch","res","json","items","data","map","company","i","to","symbol","Stock","useParams","fetchStock","stock","setStock","formattedCap","marketCap","value","suffix","digits","toFixed","formatCap","market_cap","price","change_pct","pe","eps","ReactDOM","render","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.3e5c1aa9.chunk.js","sourcesContent":["import React from 'react';\n\nimport {\n  useEffect,\n  useState\n} from 'react';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,   \n  useParams \n} from 'react-router-dom';\n\n\nexport default function App() {\n  return (\n    <Router>\n      <div>\n        <ul>\n          <li>\n            <Link exact to={`${process.env.PUBLIC_URL}/`}>Home</Link>\n          </li>\n          <li>\n            <Link exact to={`${process.env.PUBLIC_URL}/about`}>About</Link>\n          </li>\n          <li>\n            <Link exact to={`${process.env.PUBLIC_URL}/stocks`}>Stocks</Link>\n          </li>\n        </ul>\n\n        <Switch>\n          <Route path={`${process.env.PUBLIC_URL}/stocks/:id`}>\n            <Stock />\n          </Route> \n          <Route path={`${process.env.PUBLIC_URL}/about`}>\n            <About />\n          </Route>\n          <Route exact path={`${process.env.PUBLIC_URL}/stocks`}>\n            <Stocks />\n          </Route>\n          <Route path={`${process.env.PUBLIC_URL}/`}>\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\n\nfunction Home() {\n  return (\n    <div>\n      <h2>Home</h2>\n      <p>Input a stock symbol or a list of symbols separated by a comma:</p>\n        <form method=\"GET\" action={`${process.env.PUBLIC_URL}/stocks`}>\n          <input type=\"text\" id=\"symbols\" name=\"symbols\" />      \n          <button class=\"btn btn-primary\" type=\"submit\" id=\"submit\">Submit</button>\n        </form>\n      <p>If you don&lsquo;t input at least a symbol you will be shown a default portfolio.</p>\n      <p>Made by <a href=\"https://mariosanchez.org\">Mario Sanchez Carrion</a> | <a href=\"https://mariosanchez.org\">mariosanchez.org</a></p>\n        <br />\n    </div>\n  );\n}\n\n\nfunction About() {\n  return (\n    <div>\n      <h2>About</h2>\n      <p>This is a demonstration of a stock fetching app using React Router and Hooks.</p>\n    </div>\n  );\n}\n\n\n\nfunction Stocks() {\n\n  const PORTFOLIO = portfolioFromQueryParams() || 'GOOG,TWTR,FB,AMZN,AAPL';\n\n// get the query parameters from the address bar and return the symbols\n  function portfolioFromQueryParams() {\n    if (!window.location.search) return;\n    let companies = new URLSearchParams(window.location.search);\n    return companies.get('symbols');\n  }\n\n  useEffect(() => {\n    fetchStocks()}, []\n  );\n\n  const [stocks, setStocks] = useState([]);\n\n  const fetchStocks = async () => {\n    const res = await fetch(`https://api.worldtradingdata.com/api/v1/stock?symbol=${PORTFOLIO}&api_token=onH6cZpUDVXChT9cbQ6jHuCkgoWPjCmBNRz0Sy5hs4icLbqds5ta1VF0pDpl`);\n    const items = await res.json();\n    setStocks(items.data);\n  }\n\n  return (\n    <div>\n      <h2>Stocks</h2>\n      { \n      stocks.map((company, i) => <p><Link to={`${process.env.PUBLIC_URL}/stocks/${company.symbol}`}>{company.name}</Link></p>)\n      }\n    </div>\n  );\n\n}\n\n\nfunction Stock() {\n  \n  let {id} = useParams(); // you must use id if you used id in your switch statement in App \n  \n  useEffect(() => {\n  fetchStock(); \n  }, []\n  );\n\n  const [stock, setStock] = useState([]);\n\n  const fetchStock = async () => {\n    const res = await fetch(`https://api.worldtradingdata.com/api/v1/stock?symbol=${id}&api_token=onH6cZpUDVXChT9cbQ6jHuCkgoWPjCmBNRz0Sy5hs4icLbqds5ta1VF0pDpl`);\n    const items = await res.json();  \n    setStock(items.data[0]); // we only have one stock so it will be in location zero in the array\n  }\n\n  // helper function to format market cap\n   function formatCap(marketCap) {\n     if (marketCap === null) return '';\n     let value, suffix;\n     if (marketCap >= 1e12) {\n       value = marketCap / 1e12;\n       suffix = 'T';\n     } else if (marketCap >= 1e9) {\n       value = marketCap / 1e9;\n       suffix = 'B';\n     } else if (marketCap >= 1e6) {\n       value = marketCap / 1e6;\n       suffix = 'M';\n     }\n     else {\n       value = marketCap / 1e3;\n       suffix = 'K';\n     }\n     let digits = value < 10 ? 1 : 0;\n     return '$' + value.toFixed(digits) + suffix;\n   }\n\n  let formattedCap = formatCap(stock.market_cap);\n\n\n  return (\n    <div>\n      <h2>{`${stock.name} | ${stock.symbol}`}</h2>\n      <ul>\n        <li>{`Latest Price: $${stock.price} | ${stock.change_pct}%`}</li>\n        <li>{`Market Cap: ${formattedCap}`}</li>\n        <li>{`P/E: ${stock.pe}`}</li>\n        <li>{`EPS: $${stock.eps}`}</li>\n      </ul>        \n    </div>\n  );\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n<App />,\ndocument.getElementById('root'))\n"],"sourceRoot":""}